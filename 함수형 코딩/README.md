## 챕터 1
함수형 프로그래밍이란?

- 부수효과 즉, 사이드 이팩트를 피하는 것이
- 부수효과 없이 순수함수만을 사용하는 프로그래밍

하지만 완전한 부수효과는 피할 수 없음.

**그럼 부수효과를 최대한 피할려면?**

- 액션 : 실행시점이나 횟수에 영향을 받는다
- 계산 : 입력 값을 계산해 출력 하는 것.
- 데이터 : 이벤트에 대한 사실.

세 가지를 사용해서 코드를 분리한다.

## 챕터 2

  타임라인, 플로우 차트로 이벤트의 흐름을 세분화 하면 액션, 계산, 데이터를 더 잘 나눌 수 있다. 프로그래밍의 전체적인 흐름을 구상한 후에 나누는 것이 좋은 코드로 나눌 수 있겠다는 생각이 듦.

  책에서 나온 예제 피자 만들기의 흐름을 나누는데, 시간 순서에 따라 나눔으로써 기본적으로 액션은 분리 할 수 있다.
  
## 챕터 3
액션 : 부수효과, 부수효과가 있는 함수, 순수하지 않은 함수

계산 : 순수함수, 수학함수

데이터 : 이벤트에 대한 사실

2장에서 본 것과 같이 기능의 흐름을 미리 작성해 놓으면 액션, 계산, 데이터를 쉽게 나눌 수 있다.

ex) 장보기 과정 예제

- 냉장고를 확인 한다 - 액션
- 현재 재고를 확인한다 - 액션
- 현재재고, 사야할재고 -  데이터
- 재고 빼고 더하기 - 계산

**이렇게 코드를 짬으로써 얻을 수 있는 이점?**

- 테스트를 하기가 용이해진다
- 코드의 분리가 쉬워진다.
- 유지보수가 편리해진다.

- 데이터
    - 이벤트에 대한 사실
    - 숫자, 문자, 배열로 구현
    - 복사를 함으로써 불변성을 유지할 수 있다.
    - 직렬화 - 저장 및 전송이 쉽다
    - 동일성 비교 - 데이터끼리 비교가 가능하다?
    - 해석 - 데이터는 그 자체로 의미가 있다. 모니터링이나 유저의 선호도처럼 해석가능
    - 쓸모 없는 데이터로 남지 않도록 주의
- 계산
    - 입력 값으로 출력을 만든다.
    - 함수로 구현
    - 테스트하기 쉽다
    - 분석이 쉽다?
    - 조합해서 더 큰 계산을 만들 수 있다.
    - 액션 처럼 시간 이나 실행 순서를 신경쓰지 않아도 되서 관리가 편하다
    - 액션과 동일하게 실행 전에는 어떤 일이 발생할지 알 수 없다.
- 액션
    - 액션은 전체 코드로 퍼진다.
    - 함수 안에 액션이 존재한다면 함수도 액션이 된다.
    - 계산과는 다르게 호출 시점이나, 호출 횟수에 의존한다. 계산은 인자와 결과에 의존
    - 외부 세계와 상호 작용하는 것으로 변경을 발생시킬 수 있다.
    - 액션의 내부에는 계산과 데이터만 가지게 하고, 최대한 바깥으로 빼서 외부에 주는 영향을 최소하 하는게 베스트

## 챕터 4
액션에서 계산을 빼는 법을 알 수 있어서 좋았다.

나오는 예제들에서는 우선 다른 팀과의 협업을 중시해서 코드를 계산으로 세분화하고 재사용 가능한 코드로 만드는 점이 인상적이었다.

- 액션과 계산 데이터 구분
    - 액션은 코드로 어떤건지 알 수 있었다
        - 함수 내부에서 전역 변수를 변경할 수 있다면 그 함수는 액션이다.
        - 액션은 외부에 관여하는 코드이기 때문이고, 실행 횟수나 실행 시점에 따라 외부가 어떻게 변할지 모르기 때문이다.
        - 암묵적 입력 - 함수 내부에서 전역 변수를 참조하는 것.
        - 암묵적 출력 - 함수 내부에서 전역 변수를 변경하는 것.
        - 암묵적 입, 출력은 외부에 영향을 줄 수 있으므로 피한다
    - 그렇다면 어떻게 계산으로 구분하는가?
        - 함수 내부에서 전역 변수를 참조하지 못 하게 한다.
        - 함수에서 전역 변수를 매개 변수로 받고 return으로 돌려준다.
        - 매개변수가 기본형이라면 값 복사가 일어나기 때문에 전역 변수의 값을 복사하는 것이기 때문에 전역변수에 영향을 미치지 않는다.
        - 매개변수가 참조형이라면 slice 같은 값 복사하면 되기 때문에 전역 참조 변수에 영향을 미치지 않는다.
        - 결론은 매개변수를 사용하고 값을 return하는 것으로 액션 → 계산으로 탈바꿈 가능

    - 계산 추출을 하는 방법
        1. 계산 코드를 찾아 빼낸다.
        2. 새 함수에 암묵적 입력과 출력을 찾는다.
        3. 암묵적 입력은 인자로 암묵적 출력은 리턴으로 바꾼다

           인자와 리턴 값은 바뀌지 않는 불변으로 하는게 중요하다.

           불변 아닌 변경이 되는거라면 액션과 다를바 없다